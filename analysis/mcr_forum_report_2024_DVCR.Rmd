---
title: "DVCR Forum with MCRs (April 2024)"
subtitle: "Summary of Responses to RDS Survey: Relevant to Forum"
#author: "Jen Beaudry"
#date: "11/07/2024"
output: pdf_document
editor_options: 
  chunk_output_type: console
header-includes:
  - \usepackage{caption}
  - \usepackage{titling}
    \setlength{\droptitle}{-2cm} # removes some of the white space above title
  - \pretitle{\begin{center}
    \includegraphics[width=1.5in, height=1.5in]{flinders-university-horizontal-master.png}\LARGE\\} # adds logo
  - \posttitle{\end{center}}
  - \usepackage{fancyhdr}
  - \fancypagestyle{plain}{\pagestyle{fancy}} # sets the footer on page 1
  - \pagestyle{fancy} # sets the footer on page 2 and beyond
  - \fancyhf{} # clears existing header & footer
  - \renewcommand{\headrulewidth}{0pt} # removes the line from the header
  - \fancyfoot[L]{Jen Beaudry} # my name in footer
  - \fancyfoot[R]{\thepage} # page number in foooter
---

```{r setup, include=FALSE}

### NOTE: USE THIS FOR THE FULL REPORT ###

knitr::opts_chunk$set(echo = FALSE,
                      include = TRUE, 
                      eval = TRUE)


# REMEMBER: Until you figure out parameterized reports, you'll have to manually 
  # select which chunks to run 

```

```{r library, include=FALSE}

library(here)
library(tidyverse)
library(kableExtra)
library(RColorBrewer)

```

```{r functions, include=FALSE}

styler_pdf <- function(dat) {
  dat %>%
     kable_styling(full_width = F, 
                latex_options = c("striped", "HOLD_position"))
}

source(here("..", "functions", "ratings_summary.R"))

```

```{r load data, include=FALSE}

df <- read_csv(here::here("data", "mcr_forum_processed.csv"), lazy = FALSE)

```

We asked our attendees five questions. One was about the forum, two were about
their training and development needs, one was about how they want us to communicate
opportunities to them, and one was an open-ended question giving 
them a chance to tell us anything else they wanted us to know. 

The first and last questions are most relevant to the DVC(R), Dean of Graduate 
Research, and Chief Research Development Officer of Research Development and Support.

Of the 19 mid-career researchers who attended this session, `r nrow(df)` 
completed the survey. 

\captionsetup[table]{labelformat=empty}

## Ideas for the DVC(R) forum with ECRs
What would you like to see in future fora with the DVC(R)?

```{r table for forum ideas}

# use for complete report not report for Rob

# put relevant data in a tibble
forum_ideas <- df %>% 
  dplyr::select(c(id, future_fora)) %>% 
  filter(!future_fora == "NA") %>%  # remove the NA values
  mutate(responses = 1:n()) %>% 
  relocate(responses, .after = id)

# get the relevant ns for the header
total_n <- length(unique(df$id))
resp_n <- length(unique(forum_ideas$id))
ns <- c(total_n, resp_n) 

forum_ideas <- forum_ideas %>% 
  dplyr::select(c(responses, future_fora))

knitr::kable (
  forum_ideas,
  booktabs = T,
  linesep = "\\addlinespace",
  col.names = c("Response #", "MCR Forum Ideas"),
  caption =
    sprintf("From the %s people responded to this question", paste(ns, collapse = " completed surveys, ")),
  align = 'cl', 
  longtable = T #break the table over multiple pages
  ) %>%
  column_spec(2, width = "5in") %>% 
  kable_styling(full_width = F, 
                latex_options = c("repeat_header", "hold_position")) 
# use different styling to repeat the header


```


\newpage
\captionsetup[table]{labelformat=empty}

## Final comments
Is there anything else you would like us to know?

```{r table for anything else}

# put relevant data in a tibble
anything <- df %>% 
  dplyr::select(c(id, anything_else)) %>% 
  filter(!anything_else == "NA") %>%  # remove the NA values
  mutate(responses = 1:n()) %>% 
  relocate(responses, .after = id)

# get the relevant ns for the header
total_n <- length(unique(df$id))
resp_n <- length(unique(anything$id))
ns <- c(total_n, resp_n) 

anything <- anything %>% 
  dplyr::select(c(responses, anything_else))

knitr::kable (
  anything,
  booktabs = T,
  linesep = "\\addlinespace",
  col.names = c("Response #", "Other Ideas"),
  caption =
   sprintf("From the %s people responded to this question", paste(ns, collapse = " completed surveys, ")),
  align = 'cl', 
  longtable = T #break the table over multiple pages
  ) %>%
  column_spec(2, width = "5in") %>% 
  kable_styling(full_width = F, 
                latex_options = c("repeat_header", "hold_position")) 
# use different styling to repeat the header


```


